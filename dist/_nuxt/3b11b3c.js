(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{603:function(e,t,o){"use strict";o.r(t);var n=o(3),r=(o(28),o(34)),l={name:"EcommerceModal",props:{isLoading:{type:Boolean,default:!1}},data:function(){return{store:"",apiKey:"",apiSecret:"",accessToken:"",selectedProvider:"shopify"}},methods:{selectProvider:function(e){this.selectedProvider=e},handleSubmit:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.store&&e.apiKey&&e.apiSecret&&e.accessToken){t.next=3;break}return console.log("Please fill all fields"),t.abrupt("return");case 3:return console.log("EcommerceModal handleSubmit invoked"),t.prev=4,t.next=7,r.a.post("/shopify/manual-connect",{store:e.store,apiKey:e.apiKey,apiSecret:e.apiSecret,accessToken:e.accessToken});case 7:o=t.sent,console.log("Response from server:",o),o.data&&200===o.data.status?(console.log("Shopify store connected successfully in EcommerceModal."),e.$router.push("/marketing-platform"),window.location.reload()):console.log("Connection unsuccessful. Response data:",o.data),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),console.error("Error connecting Shopify store:",t.t0);case 15:case"end":return t.stop()}}),t,null,[[4,12]])})))()},handleCancel:function(){this.$emit("back")}}},c=o(11),component=Object(c.a)(l,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"fixed inset-0 flex items-center justify-center min-h-screen"},[t("div",{staticClass:"fixed inset-0 bg-black opacity-50",on:{click:e.handleCancel}}),e._v(" "),t("div",{staticClass:"bg-white p-8 rounded-md w-full max-w-lg relative z-10"},[t("div",{staticClass:"flex gap-4 mb-6"},[t("button",{staticClass:"bg-gradient-to-r from-[#3CBB00] to-[#05E852] hover:bg-gradient-to-r hover:from-[#05E852] transition-main hover:to-[#3CBB00] text-white font-bold py-3 px-4 w-full text-sm rounded-md",class:{"ring-2 ring-white":"shopify"===e.selectedProvider},on:{click:function(t){return e.selectProvider("shopify")}}},[e._v("\n          Shopify\n        ")]),e._v(" "),t("button",{staticClass:"bg-[#2E0A93] text-white font-bold py-3 px-4 w-full text-sm rounded-md opacity-50 cursor-not-allowed",attrs:{disabled:""}},[e._v("\n          WordPress (Coming Soon)\n        ")])]),e._v(" "),"shopify"===e.selectedProvider?t("div",[t("h2",{staticClass:"text-2xl font-bold mb-4"},[e._v("Connect your Shopify store")]),e._v(" "),t("p",{staticClass:"text-gray-600 mb-6"},[e._v("\n          Enter your Shopify store details below:\n        ")]),e._v(" "),t("form",{on:{submit:function(t){return t.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[t("div",{staticClass:"mb-4"},[t("label",{staticClass:"block font-medium mb-1"},[e._v("Store URL")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.store,expression:"store"}],staticClass:"border p-2 rounded w-full",attrs:{placeholder:"example.myshopify.com",required:""},domProps:{value:e.store},on:{input:function(t){t.target.composing||(e.store=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"mb-4"},[t("label",{staticClass:"block font-medium mb-1"},[e._v("Shopify API Key")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.apiKey,expression:"apiKey"}],staticClass:"border p-2 rounded w-full",attrs:{placeholder:"Your Shopify app key",required:""},domProps:{value:e.apiKey},on:{input:function(t){t.target.composing||(e.apiKey=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"mb-4"},[t("label",{staticClass:"block font-medium mb-1"},[e._v("Shopify API Secret")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.apiSecret,expression:"apiSecret"}],staticClass:"border p-2 rounded w-full",attrs:{placeholder:"Your Shopify app secret",required:""},domProps:{value:e.apiSecret},on:{input:function(t){t.target.composing||(e.apiSecret=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"mb-4"},[t("label",{staticClass:"block font-medium mb-1"},[e._v("Shopify Access Token")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.accessToken,expression:"accessToken"}],staticClass:"border p-2 rounded w-full",attrs:{placeholder:"Your Shopify access token",required:""},domProps:{value:e.accessToken},on:{input:function(t){t.target.composing||(e.accessToken=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"flex justify-end gap-3"},[t("button",{staticClass:"bg-green-600 text-white px-4 py-2 rounded",attrs:{type:"submit",disabled:e.isLoading}},[e._v("\n              Connect Shopify\n            ")]),e._v(" "),t("button",{staticClass:"bg-gray-300 text-gray-800 px-4 py-2 rounded",attrs:{type:"button"},on:{click:e.handleCancel}},[e._v("\n              Cancel\n            ")])])])]):e._e()])])])}),[],!1,null,null,null);t.default=component.exports}}]);