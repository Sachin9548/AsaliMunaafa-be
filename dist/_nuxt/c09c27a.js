(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{678:function(t,e,r){"use strict";var n=r(4),o=r(7),c=r(61),d=r(240),l=r(238),f=r(6),v=RangeError,m=String,h=Math.floor,x=o(l),y=o("".slice),C=o(1..toFixed),w=function(t,e,r){return 0===e?r:e%2==1?w(t,e-1,r*t):w(t*t,e/2,r)},_=function(data,t,e){for(var r=-1,n=e;++r<6;)n+=t*data[r],data[r]=n%1e7,n=h(n/1e7)},P=function(data,t){for(var e=6,r=0;--e>=0;)r+=data[e],data[e]=h(r/t),r=r%t*1e7},k=function(data){for(var t=6,s="";--t>=0;)if(""!==s||0===t||0!==data[t]){var e=m(data[t]);s=""===s?e:s+x("0",7-e.length)+e}return s};n({target:"Number",proto:!0,forced:f((function(){return"0.000"!==C(8e-5,3)||"1"!==C(.9,0)||"1.25"!==C(1.255,2)||"1000000000000000128"!==C(0xde0b6b3a7640080,0)}))||!f((function(){C({})}))},{toFixed:function(t){var e,r,n,o,l=d(this),f=c(t),data=[0,0,0,0,0,0],h="",C="0";if(f<0||f>20)throw new v("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return m(l);if(l<0&&(h="-",l=-l),l>1e-21)if(r=(e=function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e}(l*w(2,69,1))-69)<0?l*w(2,-e,1):l/w(2,e,1),r*=4503599627370496,(e=52-e)>0){for(_(data,0,r),n=f;n>=7;)_(data,1e7,0),n-=7;for(_(data,w(10,n,1),0),n=e-1;n>=23;)P(data,1<<23),n-=23;P(data,1<<n),_(data,1,1),P(data,2),C=k(data)}else _(data,0,r),_(data,1<<-e,0),C=k(data)+x("0",f);return C=f>0?h+((o=C.length)<=f?"0."+x("0",f-o)+C:y(C,0,o-f)+"."+y(C,o-f)):h+C}})},786:function(t,e,r){"use strict";r.r(e);var n=r(20),o=r(3),c=(r(28),r(35),r(40),r(77),r(53),r(678),r(18),r(51),r(52),r(41),r(92),r(36),r(31)),d=r(34);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var v={layout:"dashboard",components:{Loader:r(233).default},data:function(){return{isLoading:!1,loadingProducts:!0,costDivider:1,searchQuery:"",products:[]}},computed:{isFormValid:function(){return this.products.length&&this.products.every((function(t){return""!==t.manufacturingCost}))},filteredProducts:function(){var t=this;return this.searchQuery?this.products.filter((function(e){return e.title.toLowerCase().includes(t.searchQuery.toLowerCase())})):this.products}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchProductsdata();case 2:case"end":return e.stop()}}),e)})))()},methods:f(f({},Object(c.b)({MarketingPlatformNext:"bussiness-details/marketingPlatform"})),{},{back:function(){this.$router.push("/about-business")},fetchProductsdata:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("user/businessDetails/fetchproduct");case 3:r=e.sent,t.products=r.data.products.map((function(t){return f(f({},t),{},{manufacturingCost:""})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching products:",e.t0);case 10:return e.prev=10,t.loadingProducts=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})))()},applyDivider:function(){var t=this;this.products=this.products.map((function(e){var r=parseFloat(e.variants[0].price);return t.costDivider&&r?e.manufacturingCost=(r/t.costDivider).toFixed(2):e.manufacturingCost="",e}))},handleSubmit:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,data={products:t.products,businessDetailsSteps:{step5:!0}},e.next=5,t.MarketingPlatformNext(data);case 5:t.$router.push("/dashboard"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.$toast.open({message:e.t0,type:"error",duration:2e3,position:"bottom-right"});case 11:return e.prev=11,t.isLoading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))()}})},m=v,h=r(11),component=Object(h.a)(m,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"max-w-fulls xl:mx-8 mx-0 mt-16 px-6 bg-white border border-gray-200 rounded-lg dark:bg-gray-800 dark:border-gray-700"},[e("div",{staticClass:"border-b py-6"},[t._m(0),t._v(" "),e("p",{staticClass:"mb-3 mt-3 font-medium text-xl text-[#5B638B]"},[t._v("\n        Please add your Products Cost\n      ")]),t._v(" "),e("div",{staticClass:"flex gap-12"},[e("div",{staticClass:"mt-4 w-full border border-gray-200 rounded-lg p-4"},[e("label",{staticClass:"block text-sm font-medium text-[#5B638B] mb-1"},[t._v("\n            Search Product:\n          ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"bg-white rounded pl-4 py-2 w-full border border-[#8C93BE] focus:outline-none",attrs:{type:"text",placeholder:"Search by product name"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"mt-4 w-1/2 border border-gray-200 rounded-lg p-4"},[e("label",{staticClass:"block text-sm font-medium text-[#5B638B] mb-1"},[t._v("\n            How You Set The Prices:\n          ")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.costDivider,expression:"costDivider",modifiers:{number:!0}}],staticClass:"bg-white rounded pl-4 py-2 w-full border border-[#8C93BE] focus:outline-none",attrs:{type:"number",placeholder:"Enter divider value (e.g., 2)"},domProps:{value:t.costDivider},on:{input:[function(e){e.target.composing||(t.costDivider=t._n(e.target.value))},t.applyDivider],blur:function(e){return t.$forceUpdate()}}}),t._v(" "),e("p",{staticClass:"text-xs text-gray-500 mt-1"},[t._v("\n            Manufacturing cost will be calculated as (Product Price / Divider)\n          ")])])])]),t._v(" "),e("div",{staticClass:"mx-5 gap-3 mt-5 mb-5 flex flex-col gap-3"},[t.loadingProducts?e("Loader",{attrs:{loading:t.loadingProducts}}):e("table",{staticClass:"min-w-full bg-white"},[e("thead",[e("tr",[e("th",{staticClass:"py-2 px-4 border-b"},[t._v("Product ID")]),t._v(" "),e("th",{staticClass:"py-2 px-4 border-b"},[t._v("Product Name")]),t._v(" "),e("th",{staticClass:"py-2 px-4 border-b"},[t._v("Product Price")]),t._v(" "),e("th",{staticClass:"py-2 px-4 border-b"},[t._v("Cost of Goods")])])]),t._v(" "),e("tbody",t._l(t.filteredProducts,(function(r){return e("tr",{key:r.id},[e("td",{staticClass:"py-2 px-4 border-b"},[t._v(t._s(r.id))]),t._v(" "),e("td",{staticClass:"py-2 px-4 border-b"},[t._v(t._s(r.title))]),t._v(" "),e("td",{staticClass:"py-2 px-4 border-b"},[t._v(t._s(r.variants[0].price))]),t._v(" "),e("td",{staticClass:"py-2 px-4 border-b"},[e("input",{directives:[{name:"model",rawName:"v-model",value:r.manufacturingCost,expression:"product.manufacturingCost"}],staticClass:"bg-white rounded pl-6 py-2 w-full border border-[#8C93BE] focus:outline-none",attrs:{type:"number",placeholder:"Enter Cost"},domProps:{value:r.manufacturingCost},on:{input:function(e){e.target.composing||t.$set(r,"manufacturingCost",e.target.value)}}})])])})),0)])],1),t._v(" "),e("div",{staticClass:"flex gap-3 justify-end flex-column mb-6"},[e("button",{staticClass:"inline-flex items-center justify-center bg-[#2B0064] transition-main hover:to-[#EA69FF] text-white font-bold py-4 mt-4 px-12 text-sm rounded-md",on:{click:t.back}},[t._v("\n        Back\n      ")]),t._v(" "),e("button",{staticClass:"inline-flex items-center justify-center bg-[#2B0064] transition-main hover:to-[#EA69FF] text-white font-bold py-4 mt-4 px-12 text-sm rounded-md",attrs:{disabled:t.isLoading},on:{click:t.handleSubmit}},[t.isLoading?e("Loader",{attrs:{loading:t.isLoading}}):e("span",[t._v("Next")])],1)])])])}),[function(){var t=this._self._c;return t("a",{attrs:{href:"#"}},[t("h5",{staticClass:"mb-2 text-3xl font-bold tracking-tight text-[#7562FF] dark:text-white"},[this._v("\n          Products\n        ")])])}],!1,null,null,null);e.default=component.exports;installComponents(component,{Loader:r(233).default})}}]);